<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeJa Supply: Solusi Pasokan Sembako Premium untuk Bisnis Anda</title>
    <!-- Google Fonts - Montserrat for strong headings, Poppins for elegant body text -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800;900&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for professional icons -->
    <!-- PERBAIKAN KRITIS: Mengubah 'xintegrity' menjadi 'integrity' -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" xintegrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0V4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Global Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif; /* Primary font for body text */
            background: linear-gradient(135deg, #0A1931 0%, #154A4A 100%); /* Ultra-premium, deep blue-green gradient */
            min-height: 100vh;
            color: #333;
            line-height: 1.7; /* Improved readability */
            overflow-x: hidden; /* Prevent horizontal scroll on some animations */
        }

        /* Container for overall layout */
        .container {
            max-width: 1360px; /* Even wider container for a grander feel */
            margin: 0 auto;
            padding: 30px; /* Increased padding */
        }

        /* Header Section Styling */
        .header {
            background: rgba(255, 255, 255, 0.95); /* Slightly less opaque for more glass effect */
            backdrop-filter: blur(30px) saturate(180%); /* More intense blur and saturation for glassmorphism */
            -webkit-backdrop-filter: blur(30px) saturate(180%);
            padding: 2.5rem 4rem; /* More generous padding */
            border-radius: 40px; /* Even softer, more modern corners */
            margin-bottom: 3.5rem;
            box-shadow: 0 20px 70px rgba(0, 0, 0, 0.3); /* Deeper, more diffused shadow */
            position: relative;
            overflow: hidden;
            animation: fadeInDown 1s ease-out forwards; /* Smoother entrance animation */
            border: 1px solid rgba(255, 255, 255, 0.3); /* Subtle white border for glass effect */
        }

        /* Subtle background pattern for header */
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(circle, #f0f0f0 1px, transparent 1px);
            background-size: 25px 25px; /* Larger pattern */
            opacity: 0.05; /* Even more subtle */
            z-index: 0;
        }

        .header h1 {
            font-family: 'Montserrat', sans-serif; /* Stronger font for headings */
            color: #1A202C;
            font-size: 4rem; /* Even larger, more impactful title */
            margin-bottom: 1.2rem;
            text-align: center;
            font-weight: 900; /* Black weight for maximum impact */
            letter-spacing: -2px; /* Tighter letter spacing for impact */
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1); /* More pronounced text shadow */
        }

        .header h1 span {
            color: #FFC107; /* Luxurious gold accent color */
        }

        .header p {
            color: #444; /* Slightly darker text for contrast */
            text-align: center;
            font-size: 1.45rem; /* Larger, more inviting tagline */
            line-height: 1.8;
            margin-bottom: 2.5rem;
            position: relative;
            z-index: 1;
            font-weight: 500;
        }

        /* Navigation Styling */
        .nav {
            display: flex;
            justify-content: center;
            gap: 1.8rem; /* Increased gap for better spacing */
            margin-top: 2.5rem;
            position: relative;
            z-index: 1;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
        }

        .nav button {
            background: linear-gradient(45deg, #1A202C, #34495E); /* Darker, more sophisticated button gradient */
            color: white;
            border: none;
            padding: 1.1rem 2.5rem; /* Generous padding for buttons */
            border-radius: 40px; /* More rounded, pill-like shape */
            cursor: pointer;
            font-size: 1.15rem;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); /* Smoother, more professional transitions */
            letter-spacing: 0.8px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
            position: relative;
            overflow: hidden;
            z-index: 1;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .nav button i {
            margin-right: 0.7rem; /* Space between icon and text */
            font-size: 1.2em; /* Slightly larger icon */
        }

        .nav button:hover {
            transform: translateY(-6px) scale(1.05); /* More pronounced lift and scale */
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.4);
            background: linear-gradient(45deg, #34495E, #1A202C); /* Reverse gradient on hover */
        }

        .nav button.active {
            background: linear-gradient(45deg, #FFC107, #FF9800); /* Luxurious gold active color */
            box-shadow: 0 8px 25px rgba(255, 193, 7, 0.5);
            transform: translateY(-3px);
            border: 2px solid rgba(255,255,255,0.7); /* Prominent white border for active state */
            color: #1A202C; /* Dark text on gold button */
            text-shadow: none;
        }

        /* Main Content Area Styling */
        .content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(30px) saturate(180%);
            -webkit-backdrop-filter: blur(30px) saturate(180%);
            padding: 4rem; /* More generous padding */
            border-radius: 40px;
            box-shadow: 0 20px 70px rgba(0, 0, 0, 0.3);
            margin-bottom: 3.5rem;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.3); /* Subtle white border for glass effect */
        }

        /* Section Display Control */
        .section {
            display: none;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out; /* Smoother section transitions */
        }

        .section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Heading Styles */
        h2 {
            font-family: 'Montserrat', sans-serif;
            text-align: center;
            color: #1A202C;
            font-size: 3.2rem; /* Larger section headings */
            margin-bottom: 3.5rem;
            font-weight: 800;
            position: relative;
            letter-spacing: -1px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.08);
        }

        h2::after {
            content: '';
            display: block;
            width: 120px; /* Wider underline */
            height: 6px; /* Thicker underline */
            background: linear-gradient(45deg, #FFC107, #FF9800); /* Gold accent gradient */
            margin: 25px auto 0;
            border-radius: 4px;
        }

        h3 {
            font-family: 'Montserrat', sans-serif;
            color: #FFC107; /* Gold accent color for subheadings */
            font-size: 2.5rem; /* Larger subheadings */
            margin-bottom: 1.8rem;
            font-weight: 700;
            text-shadow: 0.5px 0.5px 1px rgba(0,0,0,0.05);
        }

        /* Products Grid Styling */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); /* Larger, more flexible cards */
            gap: 3rem; /* Increased gap */
            margin-top: 3.5rem;
        }

        /* Product Card Styling */
        .product-card {
            background: white;
            border-radius: 30px; /* More rounded */
            padding: 2.5rem; /* Increased padding */
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15); /* Deeper shadow */
            transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.5s cubic-bezier(0.25, 0.8, 0.25, 1); /* Smoother animation curve */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            overflow: hidden;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.5); /* Subtle white border */
            background: linear-gradient(145deg, #ffffff, #f0f0f0); /* Subtle gradient for card background */
        }

        .product-card::before { /* Subtle background overlay for products */
            content: '';
            position: absolute;
            top: -60%;
            left: -60%;
            width: 220%;
            height: 220%;
            background: radial-gradient(circle, rgba(255, 193, 7, 0.05) 0%, transparent 70%); /* Light gold radial gradient */
            border-radius: 50%;
            z-index: 0;
            transition: transform 0.6s ease-out;
        }

        .product-card:hover {
            transform: translateY(-15px) scale(1.03); /* More dynamic lift and scale */
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.35);
        }

        .product-card:hover::before {
            transform: scale(1.15); /* Expand background on hover */
        }

        .product-image {
            width: 100%;
            height: 220px; /* Taller image area */
            background: linear-gradient(45deg, #FFD700, #FFA500); /* Richer gold-orange gradient */
            border-radius: 20px; /* More rounded */
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 5rem; /* Larger emoji */
            margin-bottom: 2rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            position: relative;
            z-index: 1;
            transition: transform 0.4s ease;
        }

        .product-card:hover .product-image {
            transform: scale(1.08); /* Slight scale on image on card hover */
        }

        .product-name {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.8rem; /* Larger, bolder name */
            font-weight: 800;
            color: #1A202C;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .product-price {
            font-size: 1.6rem; /* Larger, more prominent price */
            color: #FFC107; /* Gold accent for price */
            font-weight: 700;
            margin-bottom: 1.8rem;
            position: relative;
            z-index: 1;
            text-shadow: 0.5px 0.5px 1px rgba(0,0,0,0.05);
        }

        .product-actions {
            display: flex;
            gap: 1.2rem; /* Increased gap */
            margin-top: auto;
            position: relative;
            z-index: 1;
            flex-wrap: wrap; /* Allow buttons to wrap */
        }

        /* General Button Styling */
        .btn {
            padding: 1.1rem 2.2rem;
            border: none;
            border-radius: 35px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: 600;
            transition: all 0.3s ease-in-out;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            flex-grow: 1; /* Allow buttons to grow */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .btn-primary {
            background: linear-gradient(45deg, #28a745, #218838); /* Richer green for primary action */
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(45deg, #FFC107, #FF9800); /* Gold for secondary action */
            color: #1A202C; /* Dark text on gold */
            text-shadow: none;
        }

        .btn-gemini { /* New style for Gemini-powered button */
            background: linear-gradient(45deg, #6A11CB, #2575FC); /* Purple/Blue gradient */
            color: white;
            box-shadow: 0 6px 20px rgba(106, 17, 203, 0.25);
            font-size: 0.95rem; /* Slightly smaller for 3rd button */
            padding: 0.9rem 1.8rem;
        }

        .btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
            opacity: 0.98;
        }

        /* Floating Cart Icon */
        .cart {
            position: fixed;
            top: 50px; /* Slightly lower */
            right: 50px; /* Slightly more inward */
            background: linear-gradient(45deg, #FFC107, #FF9800); /* Stronger gold accent color */
            color: #1A202C; /* Dark text on gold */
            padding: 1.6rem; /* Larger icon area */
            border-radius: 50%;
            width: 80px; /* Larger */
            height: 80px; /* Larger */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.2rem; /* Larger icon */
            cursor: pointer;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.3);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            z-index: 999;
            border: 4px solid rgba(255,255,255,0.8); /* Prominent white border */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .cart:hover {
            transform: scale(1.2) rotate(10deg); /* More dynamic hover */
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }

        .cart-count {
            position: absolute;
            top: -12px; /* Adjusted position */
            right: -12px; /* Adjusted position */
            background: #0A1931; /* Brand primary color for count */
            color: white;
            border-radius: 50%;
            width: 35px; /* Larger count bubble */
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            border: 3px solid white; /* White border for count */
        }

        /* Order Form Styling */
        .order-form {
            background: white;
            padding: 3.5rem;
            border-radius: 30px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
            background: linear-gradient(145deg, #ffffff, #f0f0f0); /* Subtle gradient for form background */
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .form-group {
            margin-bottom: 3rem; /* Increased margin */
        }

        .form-group label {
            display: block;
            color: #1A202C;
            font-weight: 600;
            margin-bottom: 1.2rem; /* Increased margin */
            font-size: 1.15rem;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1.4rem; /* Larger input fields */
            border: 2px solid #E0E0E0;
            border-radius: 18px; /* More rounded */
            font-size: 1.1rem;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
            color: #333;
            background-color: #fcfcfc; /* Slightly off-white background */
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.08); /* Subtle inset shadow */
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #0A1931; /* Focus color matches brand primary */
            box-shadow: 0 0 0 6px rgba(10, 25, 49, 0.2); /* More prominent glow */
        }

        /* Stats Section Styling */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Larger, more robust stats cards */
            gap: 2.5rem;
            margin-bottom: 4rem;
        }

        .stat-card {
            background: white;
            padding: 2.8rem;
            border-radius: 30px;
            text-align: center;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.15);
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            border-bottom: 8px solid #0A1931;
            position: relative;
            overflow: hidden;
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -30px;
            left: -30px;
            width: 130%;
            height: 130%;
            background: radial-gradient(circle, rgba(255, 193, 7, 0.08) 0%, transparent 70%);
            border-radius: 30px;
            z-index: 0;
            transform: rotate(8deg);
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.25);
        }

        .stat-number {
            font-family: 'Montserrat', sans-serif;
            font-size: 3.5rem;
            font-weight: 900;
            color: #FFC107;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .stat-label {
            color: #555;
            font-size: 1.1rem;
            font-weight: 500;
            position: relative;
            z-index: 1;
        }

        /* Modal Styling (for Cart & Custom Alert & Product Description) */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8); /* Darker, more immersive overlay */
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }

        .modal.active {
            opacity: 1;
            display: flex; /* Ensure it's displayed when active */
        }

        .modal-content {
            background: white;
            padding: 4rem; /* Generous padding */
            border-radius: 30px;
            width: 90%;
            max-width: 650px; /* Wider modal */
            position: relative;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
            transform: translateY(40px) scale(0.9); /* Initial transform for animation */
            opacity: 0;
            transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.5s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.5);
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
        }

        .modal.active .modal-content {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .close {
            position: absolute;
            top: 30px;
            right: 35px;
            font-size: 3rem; /* Larger close button */
            cursor: pointer;
            color: #777;
            transition: color 0.3s ease, transform 0.3s ease;
        }

        .close:hover {
            color: #FFC107; /* Gold accent on hover */
            transform: rotate(90deg) scale(1.1); /* Spin and slight scale on hover */
        }

        /* WhatsApp Button Styling */
        .whatsapp-btn {
            background: linear-gradient(45deg, #25d366, #128c7e);
            color: white;
            padding: 1.4rem 3rem;
            border: none;
            border-radius: 40px;
            font-size: 1.25rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin: 2.5rem auto 0;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            font-weight: 600;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            text-decoration: none;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .whatsapp-btn i {
            font-size: 1.2em;
        }

        .whatsapp-btn:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 18px 45px rgba(0, 0, 0, 0.4);
            background: linear-gradient(45deg, #128c7e, #25d366); /* Reverse gradient on hover */
        }

        /* Info Card Styling (for Home and About sections) */
        .info-card {
            background: white;
            padding: 2.8rem;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            border-bottom: 5px solid #FFC107;
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
        }

        .info-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 18px 45px rgba(0,0,0,0.18);
        }

        .info-card h4 {
            font-family: 'Montserrat', sans-serif;
            color: #0A1931;
            font-size: 1.55rem;
            margin-bottom: 1.2rem;
            font-weight: 700;
        }

        .info-card h4 i {
            margin-right: 0.6rem;
            color: #FFC107;
        }

        .info-card p {
            color: #666;
            line-height: 1.8;
            font-size: 1.05rem;
        }

        /* Cart Item Styling within Modal */
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.4rem 0;
            border-bottom: 1px solid #EAEAEA;
            font-size: 1.1rem;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-info strong {
            color: #1A202C;
            font-size: 1.25rem;
        }

        .cart-item-info small {
            color: #777;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .cart-item-actions button {
            background: #EE4D4D;
            color: white;
            border: none;
            width: 42px;
            height: 42px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.3rem;
            font-weight: bold;
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .cart-item-actions button:first-child {
            background: linear-gradient(45deg, #dc3545, #c82333);
        }
        .cart-item-actions button:last-child {
            background: linear-gradient(45deg, #28a745, #218838);
        }

        .cart-item-actions button:hover {
            opacity: 0.95;
            transform: scale(1.15);
        }

        #cartTotal {
            text-align: right;
            font-weight: bold;
            margin-top: 2.5rem;
            color: #0A1931;
            font-size: 1.8rem;
            padding-top: 1.2rem;
            border-top: 3px dashed #E0E0E0;
        }

        .text-center {
            text-align: center;
        }

        /* Custom Notification/Alert Styling */
        .custom-alert-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.75);
            z-index: 1002;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.4s ease-in-out;
        }

        .custom-alert-overlay.active {
            display: flex;
            opacity: 1;
        }

        .custom-alert-box {
            background: white;
            padding: 3rem;
            border-radius: 25px;
            box-shadow: 0 20px 70px rgba(0, 0, 0, 0.4);
            text-align: center;
            max-width: 500px;
            width: 90%;
            transform: translateY(30px) scale(0.9);
            opacity: 0;
            transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.4s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.5);
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
        }

        .custom-alert-overlay.active .custom-alert-box {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .custom-alert-box h4 {
            font-family: 'Montserrat', sans-serif;
            color: #1A202C;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .custom-alert-box p {
            color: #555;
            font-size: 1.15rem;
            margin-bottom: 2.5rem;
            line-height: 1.7;
        }

        .custom-alert-box button {
            background: linear-gradient(45deg, #0A1931, #154A4A);
            color: white;
            padding: 1rem 2.2rem;
            border: none;
            border-radius: 35px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .custom-alert-box button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
        }

        /* Notification Toast Styling */
        .notification-toast {
            position: fixed;
            top: 160px;
            right: 50px;
            background: linear-gradient(45deg, #28a745, #218838);
            color: white;
            padding: 1.3rem 2.8rem;
            border-radius: 18px;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25);
            z-index: 1001;
            font-size: 1.15rem;
            font-weight: 500;
            opacity: 0;
            transform: translateX(150%);
            animation: slideInToast 0.7s cubic-bezier(0.25, 0.8, 0.25, 1) forwards, fadeOutToast 0.7s ease-in 3.5s forwards;
        }

        @keyframes slideInToast {
            from { transform: translateX(150%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes fadeOutToast {
            from { opacity: 1; transform: translateX(0); }
            to { opacity: 0; transform: translateX(150%); }
        }

        /* Preloader Styling */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0A1931 0%, #154A4A 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.7s ease-out;
            flex-direction: column;
        }

        .loader {
            border: 10px solid rgba(255, 255, 255, 0.3);
            border-top: 10px solid #FFC107;
            border-radius: 50%;
            width: 70px;
            height: 70px;
            animation: spin 1s linear infinite;
        }

        #preloader h1 {
            color: white;
            font-family: 'Montserrat', sans-serif;
            font-size: 3.5rem;
            margin-top: 25px;
            opacity: 0;
            animation: fadeIn 1.2s ease-in 0.7s forwards;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Responsive Adjustments */
        @media (max-width: 1024px) {
            .header h1 {
                font-size: 3.5rem;
            }
            .header p {
                font-size: 1.25rem;
            }
            h2 {
                font-size: 2.8rem;
            }
            h3 {
                font-size: 2.2rem;
            }
            .products-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }
            .content {
                padding: 3rem;
            }
            .stat-number {
                font-size: 3rem;
            }
            .cart {
                width: 70px;
                height: 70px;
                font-size: 2rem;
                top: 40px;
                right: 40px;
            }
            .cart-count {
                width: 30px;
                height: 30px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            .header {
                padding: 2rem 2.5rem;
                margin-bottom: 2.5rem;
            }
            .header h1 {
                font-size: 3rem;
            }
            .header p {
                font-size: 1.1rem;
                margin-bottom: 2rem;
            }
            .nav {
                gap: 1rem;
                flex-direction: column; /* Stack buttons vertically */
                align-items: center;
            }
            .nav button {
                padding: 1rem 2rem;
                font-size: 1.05rem;
                width: 90%; /* Make buttons wider */
                max-width: 350px;
            }
            .content {
                padding: 2.5rem;
            }
            h2 {
                font-size: 2.4rem;
                margin-bottom: 3rem;
            }
            h3 {
                font-size: 1.9rem;
            }
            .products-grid {
                grid-template-columns: 1fr; /* Single column on mobile */
            }
            .product-image {
                height: 180px;
                font-size: 4rem;
            }
            .product-name {
                font-size: 1.6rem;
            }
            .product-price {
                font-size: 1.4rem;
            }
            .btn {
                padding: 1rem 1.8rem;
                font-size: 1rem;
            }
            .stats {
                grid-template-columns: 1fr;
            }
            .stat-card {
                padding: 2.2rem;
            }
            .stat-number {
                font-size: 3rem;
            }
            .modal-content {
                padding: 3rem;
            }
            .close {
                font-size: 2.5rem;
                top: 20px;
                right: 25px;
            }
            .whatsapp-btn {
                padding: 1.1rem 2.2rem;
                font-size: 1.1rem;
            }
            .notification-toast {
                top: 120px;
                right: 25px;
                left: 25px;
                transform: translateX(0); /* No side animation on small screens */
                animation: fadeInToastMobile 0.7s ease-out forwards, fadeOutToastMobile 0.7s ease-in 3.5s forwards;
            }
            @keyframes fadeInToastMobile {
                from { opacity: 0; }
                to { opacity: 1; }
            }
            @keyframes fadeOutToastMobile {
                from { opacity: 1; }
                to { opacity: 0; }
            }
        }

        @media (max-width: 480px) {
            .header h1 {
                font-size: 2.5rem;
            }
            .header p {
                font-size: 1rem;
            }
            .content {
                padding: 2rem;
            }
            h2 {
                font-size: 2rem;
            }
            h3 {
                font-size: 1.6rem;
            }
            .product-image {
                height: 150px;
                font-size: 3.5rem;
            }
            .product-name {
                font-size: 1.4rem;
            }
            .product-price {
                font-size: 1.2rem;
            }
            .btn {
                font-size: 0.95rem;
                padding: 0.9rem 1.5rem;
            }
            .cart {
                width: 60px;
                height: 60px;
                font-size: 1.8rem;
                top: 20px;
                right: 20px;
            }
            .cart-count {
                width: 25px;
                height: 25px;
                font-size: 0.8rem;
            }
            .modal-content {
                padding: 2rem;
            }
            .custom-alert-box h4 {
                font-size: 1.8rem;
            }
            .custom-alert-box p {
                font-size: 1.05rem;
            }
        }
    </style>
</head>
<body>
    <!-- Preloader -->
    <div id="preloader">
        <div class="loader"></div>
        <h1>BeJa Supply</h1>
    </div>

    <div class="container">
        <header class="header">
            <h1>BeJa Supply: Revolusi Pasokan Sembako <span>Premium</span></h1>
            <p>Transformasi Bisnis Warung Anda Dimulai Dari Sini. <br>Kami Hadir untuk Memberikan Kualitas Tak Tertandingi, Harga Paling Kompetitif, dan Pengiriman Tercepat.</p>
            <nav class="nav">
                <button class="active" onclick="showSection('home', this)"><i class="fas fa-home"></i> Beranda Utama</button>
                <button onclick="showSection('products', this)"><i class="fas fa-box-open"></i> Katalog Pilihan</button>
                <button onclick="showSection('order', this)"><i class="fas fa-paper-plane"></i> Pesan Instan</button>
                <button onclick="showSection('about', this)"><i class="fas fa-info-circle"></i> Tentang Kami</button>
            </nav>
        </header>

        <div class="cart" onclick="showCart()">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count" id="cartCount">0</span>
        </div>

        <main class="content">
            <section id="home" class="section active">
                <h2>Rangkuman Keberhasilan Mitra Kami</h2>
                <p class="text-center" style="color: #666; max-width: 800px; margin: -2rem auto 3.5rem; font-size: 1.05rem;">
                    Lihat bagaimana BeJa Supply telah menjadi katalisator pertumbuhan bagi ratusan warung dan toko di seluruh Jabodetabek.
                </p>
                
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-number">127+</div>
                        <div class="stat-label">Warung Mitra Sukses</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">348+</div>
                        <div class="stat-label">Pilihan Produk Berkualitas Tinggi</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">2.1M+</div>
                        <div class="stat-label">Peningkatan Omzet Mitra (Rupiah)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">99%</div>
                        <div class="stat-label">Kepuasan Mitra Terjamin</div>
                    </div>
                </div>

                <div class="text-center" style="margin-top: 3.5rem;">
                    <h3>Mengapa BeJa Supply Adalah Pilihan Strategis Anda?</h3>
                    <p style="color: #666; max-width: 800px; margin: 1.5rem auto 2.5rem; font-size: 1.05rem;">
                        Di tengah dinamika pasar yang cepat, kecepatan, kualitas, dan keandalan adalah penentu kesuksesan. BeJa Supply bukan sekadar penyedia sembako; kami adalah arsitek di balik efisiensi dan pertumbuhan bisnis Anda. Kami memahami setiap tantangan, dan kami hadir dengan solusi yang telah teruji dan terbukti.
                    </p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; margin-top: 1rem;">
                        <div class="info-card">
                            <h4><i class="fas fa-truck-fast"></i> Pengiriman Super Cepat</h4>
                            <p>Stok menipis? Tidak ada lagi kerugian karena barang kosong. Kami menjamin pesanan Anda tiba dalam <strong>kurang dari 24 jam</strong> di seluruh Jabodetabek. Waktu adalah investasi, dan kami memastikan investasi Anda tidak terbuang.</p>
                        </div>
                        <div class="info-card">
                            <h4><i class="fas fa-credit-card"></i> Fleksibilitas Pembayaran Tanpa Beban</h4>
                            <p>Optimalkan arus kas bisnis Anda. Nikmati fasilitas <strong>Kredit hingga 30 hari</strong> yang eksklusif untuk mitra loyal kami. Fokus pada ekspansi penjualan, serahkan urusan pasokan kepada kami.</p>
                        </div>
                        <div class="info-card">
                            <h4><i class="fas fa-mobile-alt"></i> Pemesanan Digital yang Sangat Intuitif</h4>
                            <p>Lupakan kerumitan pemesanan tradisional. Pesan kapan saja, di mana saja, hanya dengan beberapa ketukan melalui platform digital kami atau langsung via WhatsApp. Efisiensi maksimal di ujung jari Anda.</p>
                        </div>
                    </div>
                    <button class="whatsapp-btn" onclick="showSection('products', this)" style="margin-top: 4rem;">
                        <i class="fas fa-arrow-right"></i> Jelajahi Koleksi Produk Unggulan Kami Sekarang!
                    </button>
                </div>
            </section>

            <section id="products" class="section">
                <h2>Katalog Produk Pilihan Terbaik untuk Kesuksesan Anda</h2>
                <p class="text-center" style="color: #666; margin-bottom: 2.5rem; font-size: 1.05rem;">
                    Kami telah mengkurasi setiap produk dengan cermat untuk memastikan Anda mendapatkan kualitas premium yang paling dicari pasar. Tingkatkan daya saing warung Anda dengan pasokan terbaik dari BeJa Supply.
                </p>
                <div class="text-center" style="margin-bottom: 3rem; display: flex; gap: 1.2rem; justify-content: center; flex-wrap: wrap;">
                    <div style="position: relative; flex-grow: 1; max-width: 400px;">
                        <input type="text" id="searchInput" placeholder="Cari produk impian Anda..." onkeyup="searchProducts()" style="padding: 0.9rem 1.2rem; border-radius: 12px; border: 1px solid #ddd; width: 100%; font-size: 1rem; padding-left: 40px;">
                        <i class="fas fa-search" style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #888;"></i>
                    </div>
                    <div style="position: relative; flex-grow: 1; max-width: 250px;">
                        <select id="categoryFilter" onchange="filterProducts()" style="padding: 0.9rem 1.2rem; border-radius: 12px; border: 1px solid #ddd; width: 100%; font-size: 1rem; appearance: none; -webkit-appearance: none; background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23888%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-6.5%200-12.3%203.2-16.1%208.1-3.8%204.9-4.9%2011-3.5%2017.3l138.6%20229.3c3.8%206.3%2010%209.5%2016.5%209.5s12.7-3.2%2016.5-9.5L290.5%2094c1.4-6.3.3-12.4-3.5-17.3z%22%2F%3E%3C%2Fsvg%3E'); background-repeat: no-repeat; background-position: right 15px center; background-size: 12px;">
                            <option value="all">Semua Kategori Premium</option>
                            <option value="beras">Beras Pilihan</option>
                            <option value="minyak">Minyak Goreng Terbaik</option>
                            <option value="gula">Gula Murni</option>
                            <option value="mie">Mie Instan Favorit</option>
                            <option value="snack">Snack Kekinian</option>
                            <option value="bumbu">Bumbu Dapur Esensial</option>
                            <option value="minuman">Minuman Segar</option>
                        </select>
                        <i class="fas fa-chevron-down" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #888; pointer-events: none;"></i>
                    </div>
                </div>

                <div class="products-grid" id="productsGrid">
                    <!-- Products will be populated by JavaScript -->
                </div>
                <div class="text-center" style="margin-top: 4rem;">
                    <p style="color: #666; font-size: 1.05rem;">Belum menemukan produk yang Anda butuhkan? Jangan khawatir, tim kami siap membantu Anda menemukan solusi terbaik.</p>
                    <button class="whatsapp-btn" onclick="contactWhatsApp()">
                        <i class="fab fa-whatsapp"></i> Butuh Bantuan? Hubungi Kami Sekarang!
                    </button>
                </div>
            </section>

            <section id="order" class="section">
                <h2>Formulir Pemesanan Cepat & Aman</h2>
                <p class="text-center" style="color: #666; margin: -2rem auto 2.5rem; font-size: 1.05rem;">
                    Isi detail pesanan Anda di bawah ini untuk proses yang mulus dan konfirmasi yang cepat. Setiap informasi Anda kami jaga kerahasiaannya.
                </p>
                
                <div class="order-form">
                    <div class="form-group">
                        <label for="customerName"><i class="fas fa-user"></i> Nama Lengkap Anda (Pemilik Usaha)</label>
                        <input type="text" id="customerName" placeholder="Contoh: Budi Santoso" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="shopName"><i class="fas fa-store"></i> Nama Toko/Warung Anda</label>
                        <input type="text" id="shopName" placeholder="Contoh: Warung Berkah Jaya" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone"><i class="fab fa-whatsapp"></i> Nomor WhatsApp Aktif</label>
                        <input type="tel" id="phone" placeholder="Contoh: 0812-3456-7890 (Untuk konfirmasi & update pesanan)" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="address"><i class="fas fa-map-marker-alt"></i> Alamat Lengkap Pengiriman</label>
                        <textarea id="address" rows="4" placeholder="Detail alamat: Nama Jalan, Nomor, RT/RW, Kelurahan, Kecamatan, Kota. Pastikan akurat untuk pengiriman tercepat dan tanpa kendala." required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="paymentMethod"><i class="fas fa-money-bill-wave"></i> Metode Pembayaran Pilihan</label>
                        <select id="paymentMethod">
                            <option value="cash">Cash on Delivery (COD) - Bayar di tempat saat barang tiba.</option>
                            <option value="transfer">Transfer Bank - Praktis & Cepat, konfirmasi otomatis.</option>
                            <option value="credit">Kredit 30 Hari - Solusi keuangan eksklusif untuk Mitra Terdaftar kami.</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes"><i class="fas fa-sticky-note"></i> Catatan Khusus (Opsional)</label>
                        <textarea id="notes" rows="3" placeholder="Contoh: Mohon dikirim setelah jam 2 siang; Barang fragile, harap hati-hati; Hubungi saya 30 menit sebelum tiba."></textarea>
                    </div>
                    
                    <button class="whatsapp-btn" onclick="submitOrder()">
                        <i class="fas fa-check-circle"></i> Konfirmasi & Kirim Pesanan via WhatsApp
                    </button>
                    <p class="text-center" style="color: #777; margin-top: 1.5rem; font-size: 0.9rem;">
                        Dengan mengklik "Konfirmasi & Kirim Pesanan", Anda menyetujui <a href="#" style="color: #0A1931; text-decoration: none; font-weight: 600;">Syarat & Ketentuan Layanan</a> kami.
                    </p>
                </div>
            </section>

            <section id="about" class="section">
                <h2>BeJa Supply: Dedikasi Kami untuk Kemajuan Bisnis Anda</h2>
                <p class="text-center" style="color: #666; margin: -2rem auto 2.5rem; font-size: 1.05rem;">
                    Kami bukan sekadar penyedia sembako; kami adalah jembatan strategis yang menghubungkan Anda dengan potensi pertumbuhan tak terbatas.
                </p>
                <div style="background: white; padding: 3rem; border-radius: 25px; margin-bottom: 3rem; box-shadow: 0 10px 35px rgba(0, 0, 0, 0.12);">
                    <h3>Visi & Misi Kami: Lebih dari Sekadar Pasokan</h3>
                    <p style="color: #555; line-height: 1.8; margin-bottom: 1.8rem; font-size: 1rem;">
                        Visi kami adalah menjadi katalisator utama dalam modernisasi dan pemberdayaan ekosistem warung tradisional di Indonesia. Kami bertekad untuk menciptakan masa depan di mana setiap pemilik warung dapat bersaing secara global, didukung oleh pasokan premium dan teknologi inovatif.
                    </p>
                    <p style="color: #555; line-height: 1.8; font-size: 1rem;">
                        Misi kami adalah menyediakan akses tak terbatas ke pasokan sembako berkualitas tinggi dengan harga paling kompetitif, didukung oleh sistem logistik yang efisien, layanan pelanggan yang responsif 24/7, dan program kemitraan yang memberdayakan. Kami berkomitmen pada pertumbuhan mutual dan kepuasan jangka panjang yang melampaui ekspektasi.
                    </p>
                    
                    <h3 style="margin-top: 3rem;">Keunggulan Kompetitif BeJa Supply</h3>
                    <ul style="color: #555; line-height: 2.4; list-style: none; padding-left: 0;">
                        <li style="margin-bottom: 0.8rem;"><span style="color: #28a745; font-weight: bold; font-size: 1.2em; margin-right: 0.8rem;"><i class="fas fa-check-circle"></i></span> <strong>Harga Distributor Langsung:</strong> Dapatkan margin keuntungan optimal dengan harga terbaik tanpa perantara.</li>
                        <li style="margin-bottom: 0.8rem;"><span style="color: #28a745; font-weight: bold; font-size: 1.2em; margin-right: 0.8rem;"><i class="fas fa-check-circle"></i></span> <strong>Stok Lengkap & Selalu Tersedia:</strong> Jaminan pasokan stabil, bisnis Anda berjalan tanpa hambatan.</li>
                        <li style="margin-bottom: 0.8rem;"><span style="color: #28a745; font-weight: bold; font-size: 1.2em; margin-right: 0.8rem;"><i class="fas fa-check-circle"></i></span> <strong>Pengiriman Tepat Waktu & Terjamin:</strong> Setiap janji adalah komitmen. Barang tiba sesuai jadwal, setiap saat.</li>
                        <li style="margin-bottom: 0.8rem;"><span style="color: #28a745; font-weight: bold; font-size: 1.2em; margin-right: 0.8rem;"><i class="fas fa-check-circle"></i></span> <strong>Sistem Kredit Fleksibel & Menguntungkan:</strong> Kelola keuangan dengan cerdas, kembangkan bisnis tanpa tekanan modal.</li>
                        <li style="margin-bottom: 0.8rem;"><span style="color: #28a745; font-weight: bold; font-size: 1.2em; margin-right: 0.8rem;"><i class="fas fa-check-circle"></i></span> <strong>Dukungan Mitra 24/7:</strong> Tim ahli kami siap sedia memberikan solusi cepat dan efektif kapan pun Anda butuhkan.</li>
                        <li style="margin-bottom: 0.8rem;"><span style="color: #28a745; font-weight: bold; font-size: 1.2em; margin-right: 0.8rem;"><i class="fas fa-check-circle"></i></span> <strong>Konsultasi Bisnis Eksklusif & Gratis:</strong> Dapatkan wawasan strategis untuk mengoptimalkan potensi warung Anda.</li>
                    </ul>
                </div>
                
                <div style="background: white; padding: 3rem; border-radius: 25px; text-align: center; box-shadow: 0 10px 35px rgba(0, 0, 0, 0.12);">
                    <h3>Kami Siap Terhubung dengan Anda!</h3>
                    <p style="color: #555; margin-bottom: 2rem; font-size: 1.05rem;">
                        Jangan lewatkan kesempatan untuk berkolaborasi dengan partner terbaik. Hubungi tim konsultan kami sekarang untuk diskusi yang transformatif.
                    </p>
                    <p style="color: #0A1931; font-size: 1.5rem; font-weight: 700; margin-bottom: 1.2rem;"><i class="fas fa-phone-alt"></i> 0812-3456-7890</p>
                    <p style="color: #0A1931; font-size: 1.5rem; font-weight: 700; margin-bottom: 1.2rem;"><i class="fas fa-envelope"></i> info@bejasupply.com</p>
                    <p style="color: #0A1931; font-size: 1.5rem; font-weight: 700; margin-bottom: 2.5rem;"><i class="fas fa-map-marked-alt"></i> Jl. Inovasi Bisnis No. 45, Jakarta Selatan (Kantor Pusat)</p>
                    
                    <button class="whatsapp-btn" onclick="contactWhatsApp()">
                        <i class="fab fa-whatsapp"></i> Chat Langsung dengan Konsultan Kami
                    </button>
                    <p style="color: #777; margin-top: 1.5rem; font-size: 0.9rem;">Kami berkomitmen untuk memberikan respon tercepat dan solusi paling efektif untuk setiap kebutuhan Anda.</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCart()">&times;</span>
            <h3 style="color: #1A202C; margin-bottom: 1.8rem; text-align: center;">Keranjang Belanja Anda</h3>
            <div id="cartItems"></div>
            <div id="cartTotal"></div>
            <button class="whatsapp-btn" onclick="checkoutCart()" style="width: 100%; margin-top: 2.5rem;">
                <i class="fas fa-shopping-cart"></i> Selesaikan Pesanan via WhatsApp
            </button>
            <p class="text-center" style="color: #777; margin-top: 1.2rem; font-size: 0.9rem;">Proses checkout melalui WhatsApp menjamin kecepatan dan personalisasi layanan.</p>
        </div>
    </div>

    <!-- Product Description Modal (NEW) -->
    <div id="productDescriptionModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeProductDescriptionModal()">&times;</span>
            <h3 style="color: #1A202C; margin-bottom: 1.5rem; text-align: center;"> Deskripsi Produk Cerdas</h3>
            <div id="productDescriptionContent" style="text-align: center;">
                <p id="productDescriptionName" style="font-size: 1.3rem; font-weight: 600; color: #0A1931; margin-bottom: 1rem;"></p>
                <div id="productDescriptionLoader" class="loader" style="margin: 2rem auto; border-top: 8px solid #6A11CB; border-color: rgba(106, 17, 203, 0.3);"></div>
                <p id="productDescriptionText" style="color: #555; line-height: 1.8; font-size: 1.05rem; white-space: pre-wrap; text-align: left;"></p>
                <button class="whatsapp-btn" onclick="copyDescriptionToClipboard()" style="margin-top: 2rem;">
                    <i class="fas fa-copy"></i> Salin Deskripsi
                </button>
            </div>
        </div>
    </div>

    <!-- Custom Alert Modal -->
    <div id="customAlert" class="custom-alert-overlay">
        <div class="custom-alert-box">
            <h4 id="alertTitle"></h4>
            <p id="alertMessage"></p>
            <button onclick="closeCustomAlert()">Oke, Mengerti</button>
        </div>
    </div>

    <script>
        // Sample product data
        const products = [
            { id: 1, name: 'Beras Premium 5kg', price: 75000, category: 'beras', emoji: '' },
            { id: 2, name: 'Minyak Goreng Tropical 2L', price: 32000, category: 'minyak', emoji: '' },
            { id: 3, name: 'Gula Pasir 1kg', price: 15000, category: 'gula', emoji: '' },
            { id: 4, name: 'Indomie Soto 40pcs', price: 120000, category: 'mie', emoji: '' },
            { id: 5, name: 'Teh Pucuk Harum 24pcs', price: 48000, category: 'minuman', emoji: '' },
            { id: 6, name: 'Kecap Manis ABC 600ml', price: 18000, category: 'bumbu', emoji: '' },
            { id: 7, name: 'Chitato 68gr 20pcs', price: 85000, category: 'snack', emoji: '' },
            { id: 8, name: 'Royco Ayam 100gr', price: 12000, category: 'bumbu', emoji: '' },
            { id: 9, name: 'Beras Maknyus 10kg', price: 145000, category: 'beras', emoji: '' },
            { id: 10, name: 'Minyak Bimoli 1L', price: 18000, category: 'minyak', emoji: '' },
            { id: 11, name: 'Gula Aren 500gr', price: 22000, category: 'gula', emoji: '' },
            { id: 12, name: 'Mie Sedaap 40pcs', price: 115000, category: 'mie', emoji: '' }
        ];

        let cart = [];
        
        // --- Preloader Logic ---
        window.addEventListener('load', function() {
            const preloader = document.getElementById('preloader');
            if (preloader) {
                preloader.style.opacity = '0';
                setTimeout(() => {
                    preloader.style.display = 'none';
                }, 700); // Match CSS transition duration
            }
            // Initialize other app components after preloader hides
            initializeApp();
        });

        // Initialize the app components
        function initializeApp() {
            displayProducts();
            updateCartDisplay();
            animateStats(); // Animate stats on load
        }

        // --- Section Management ---
        function showSection(sectionId, clickedButton) {
            console.log('showSection called for:', sectionId); // Debugging log: Konfirmasi panggilan fungsi
            if (clickedButton) {
                console.log('Clicked button element:', clickedButton); // Debugging log: Elemen tombol yang diklik
            } else {
                console.log('showSection called programmatically, no specific button clicked.');
            }

            // Hide all sections
            document.querySelectorAll('.section').forEach(sec => {
                sec.classList.remove('active');
            });
            // Show selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
                console.log('Section activated:', sectionId); // Debugging log: Konfirmasi section aktif
            } else {
                console.error('Target section not found:', sectionId); // Debugging log: Error jika section tidak ditemukan
            }
            
            // Update nav buttons active state
            document.querySelectorAll('.nav button').forEach(btn => {
                btn.classList.remove('active');
            });
            if (clickedButton) {
                clickedButton.classList.add('active');
                console.log('Active class added to clicked button.'); // Debugging log: Konfirmasi tombol aktif
            } else {
                // Fallback for initial load or programmatic calls without a button click
                const targetButton = document.querySelector(`.nav button[onclick*="${sectionId}"]`);
                if (targetButton) {
                    targetButton.classList.add('active');
                    console.log('Active class added to programmatic target button.');
                }
            }
        }

        // --- Product Display & Filtering ---
        function displayProducts(filter = 'all') {
            const grid = document.getElementById('productsGrid');
            const searchTerm = document.getElementById('searchInput') ? document.getElementById('searchInput').value.toLowerCase() : '';
            
            let filteredProducts = filter === 'all' 
                ? products 
                : products.filter(p => p.category === filter);
            
            if (searchTerm) {
                filteredProducts = filteredProducts.filter(p => 
                    p.name.toLowerCase().includes(searchTerm)
                );
            }
            
            if (filteredProducts.length === 0) {
                grid.innerHTML = '<p class="text-center" style="color: #7f8c8d; grid-column: 1 / -1; padding: 3rem; font-size: 1.2rem;">Maaf, produk tidak ditemukan. Coba kategori atau kata kunci lain yang lebih spesifik!</p>';
                return;
            }
            
            grid.innerHTML = filteredProducts.map(product => `
                <div class="product-card">
                    <div class="product-image">${product.emoji}</div>
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">Rp ${product.price.toLocaleString('id-ID')}</div>
                    <div class="product-actions">
                        <button class="btn btn-primary" onclick="addToCart(${product.id})">
                            <i class="fas fa-cart-plus"></i> Tambah
                        </button>
                        <button class="btn btn-secondary" onclick="quickOrder(${product.id})">
                            <i class="fab fa-whatsapp"></i> Pesan
                        </button>
                        <button class="btn btn-gemini" onclick="showProductDescriptionModal(${product.id})">
                             Deskripsi Cerdas
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function filterProducts() {
            const filter = document.getElementById('categoryFilter').value;
            displayProducts(filter);
        }

        function searchProducts() {
            const filter = document.getElementById('categoryFilter').value;
            displayProducts(filter);
        }

        // --- Cart Management ---
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            
            updateCartDisplay();
            showNotification('Produk berhasil ditambahkan ke keranjang Anda!', 'success');
        }

        function updateCartDisplay() {
            const cartCount = document.getElementById('cartCount');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        function showCart() {
            const modal = document.getElementById('cartModal');
            const cartItemsContainer = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="text-center" style="color: #7f8c8d; padding: 2rem 0; font-size: 1.1rem;">Keranjang Anda masih kosong. Mari penuhi dengan produk-produk berkualitas!</p>';
                cartTotal.innerHTML = '';
            } else {
                cartItemsContainer.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <div class="cart-item-info">
                            <strong>${item.name}</strong><br>
                            <small>Rp ${item.price.toLocaleString('id-ID')} x ${item.quantity}</small>
                        </div>
                        <div class="cart-item-actions">
                            <button onclick="updateQuantity(${item.id}, -1)"><i class="fas fa-minus"></i></button>
                            <span>${item.quantity}</span>
                            <button onclick="updateQuantity(${item.id}, 1)"><i class="fas fa-plus"></i></button>
                        </div>
                    </div>
                `).join('');
                
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                cartTotal.innerHTML = `Total Belanja Anda: <strong>Rp ${total.toLocaleString('id-ID')}</strong>`;
            }
            
            modal.classList.add('active');
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    cart = cart.filter(cartItem => cartItem.id !== productId);
                }
                updateCartDisplay();
                showCart(); // Refresh cart display to reflect changes
            }
        }

        function closeCart() {
            document.getElementById('cartModal').classList.remove('active');
        }

        // --- Order & WhatsApp Integration ---
        function quickOrder(productId) {
            const product = products.find(p => p.id === productId);
            const message = `Halo BeJa Supply, saya tertarik untuk memesan:\n\n*${product.name}*\nHarga: *Rp ${product.price.toLocaleString('id-ID')}*\n\nMohon bantu saya untuk proses pemesanan lebih lanjut. Terima kasih!`;
            
            const whatsappUrl = `https://wa.me/6281234567890?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        function submitOrder() {
            const customerName = document.getElementById('customerName').value;
            const shopName = document.getElementById('shopName').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const paymentMethod = document.getElementById('paymentMethod').value;
            const notes = document.getElementById('notes').value;
            
            if (!customerName || !shopName || !phone || !address) {
                showCustomAlert('Data Tidak Lengkap!', 'Mohon lengkapi semua informasi wajib (Nama, Toko, No. WhatsApp, Alamat) agar pesanan Anda dapat kami proses dengan cepat dan tanpa kendala.');
                return;
            }
            
            let message = `*PESANAN BARU - BeJa Supply (Form Web)*\n\n`;
            message += `*Data Pemesan:*\n`;
            message += `Nama Lengkap: ${customerName}\n`;
            message += `Nama Toko/Warung: ${shopName}\n`;
            message += `Nomor WhatsApp: ${phone}\n`;
            message += `Alamat Lengkap: ${address}\n`;
            message += `Metode Pembayaran Pilihan: ${paymentMethod}\n`;
            if (notes) message += `Catatan Khusus: ${notes}\n`;
            message += `\n*Mohon segera konfirmasi pesanan ini dan informasikan estimasi pengiriman. Terima kasih banyak!*`;
            
            const whatsappUrl = `https://wa.me/6281234567890?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');

            // Clear form after submission
            document.getElementById('customerName').value = '';
            document.getElementById('shopName').value = '';
            document.getElementById('phone').value = '';
            document.getElementById('address').value = '';
            document.getElementById('paymentMethod').value = 'cash';
            document.getElementById('notes').value = '';

            showNotification('Pesanan Anda berhasil dikirim! Tim kami akan segera menghubungi Anda.', 'success');
        }

        function checkoutCart() {
            if (cart.length === 0) {
                showCustomAlert('Keranjang Kosong!', 'Keranjang Anda masih kosong. Tambahkan produk-produk pilihan Anda terlebih dahulu!');
                return;
            }
            
            let message = `*CHECKOUT KERANJANG - BeJa Supply (Dari Web)*\n\n`;
            message += `*DETAIL PESANAN ANDA:*\n`;
            
            cart.forEach(item => {
                message += ` ${item.name}\n`;
                message += `  Jumlah: ${item.quantity} x Rp ${item.price.toLocaleString('id-ID')}\n`;
                message += `  Subtotal: Rp ${(item.price * item.quantity).toLocaleString('id-ID')}\n\n`;
            });
            
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            message += `*TOTAL KESELURUHAN: Rp ${total.toLocaleString('id-ID')}*\n\n`;
            message += `*Mohon lengkapi informasi pengiriman berikut agar kami dapat memproses pesanan Anda dengan cepat:*\n`;
            message += `Nama Lengkap: (Isi Nama Anda)\n`;
            message += `Nama Toko/Warung: (Isi Nama Toko Anda)\n`;
            message += `Alamat Lengkap: (Isi Alamat Lengkap Pengiriman)\n`;
            message += `Metode Pembayaran: (Cash/Transfer/Kredit 30 Hari)\n\n`;
            message += `Kami akan segera menghubungi Anda untuk konfirmasi pesanan. Terima kasih telah memilih BeJa Supply!`;
            
            const whatsappUrl = `https://wa.me/6281234567890?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            // Clear cart after checkout
            cart = [];
            updateCartDisplay();
            closeCart();
            showNotification('Pesanan keranjang Anda berhasil dikirim! Silakan lengkapi detail di WhatsApp.', 'success');
        }

        function contactWhatsApp() {
            const message = `Halo BeJa Supply!\n\nSaya tertarik untuk menjadi mitra atau ingin bertanya lebih lanjut mengenai produk dan layanan premium Anda. Bisakah kita berdiskusi lebih jauh?`;
            const whatsappUrl = `https://wa.me/6281234567890?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
        }

        // --- Product Description AI Feature (NEW) ---
        async function showProductDescriptionModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) {
                showCustomAlert('Produk Tidak Ditemukan', 'Detail produk tidak dapat ditemukan.');
                return;
            }

            const modal = document.getElementById('productDescriptionModal');
            const productNameElem = document.getElementById('productDescriptionName');
            const productDescriptionLoader = document.getElementById('productDescriptionLoader');
            const productDescriptionText = document.getElementById('productDescriptionText');
            const copyButton = modal.querySelector('.whatsapp-btn');

            productNameElem.textContent = product.name;
            productDescriptionText.textContent = ''; // Clear previous description
            productDescriptionLoader.style.display = 'block'; // Show loader
            copyButton.style.display = 'none'; // Hide copy button initially

            modal.classList.add('active');

            try {
                const description = await generateProductDescription(product.name, product.category);
                productDescriptionText.textContent = description;
                copyButton.setAttribute('data-description', description); // Store description for copying
                copyButton.style.display = 'flex'; // Show copy button
            } catch (error) {
                console.error('Error generating product description:', error);
                productDescriptionText.textContent = 'Maaf, gagal menghasilkan deskripsi produk. Silakan coba lagi nanti.';
            } finally {
                productDescriptionLoader.style.display = 'none'; // Hide loader
            }
        }

        function closeProductDescriptionModal() {
            document.getElementById('productDescriptionModal').classList.remove('active');
        }

        async function generateProductDescription(productName, productCategory) {
            const prompt = `Buat deskripsi produk sembako yang menarik dan persuasif untuk "${productName}" (kategori: ${productCategory}). Fokus pada manfaat bagi pembeli grosir/warung, kualitas, dan keunggulan. Gunakan bahasa yang profesional namun mudah dipahami. Maksimal 100 kata.`;
            
            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };
            const apiKey = ""; // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    console.error('Unexpected API response structure:', result);
                    throw new Error('Invalid API response');
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                throw error;
            }
        }

        function copyDescriptionToClipboard() {
            const copyButton = document.getElementById('productDescriptionModal').querySelector('.whatsapp-btn');
            const description = copyButton.getAttribute('data-description');
            
            if (description) {
                // Use document.execCommand('copy') for better compatibility in iframes
                const textarea = document.createElement('textarea');
                textarea.value = description;
                document.body.appendChild(textarea);
                textarea.select();
                try {
                    document.execCommand('copy');
                    showNotification('Deskripsi berhasil disalin ke clipboard!', 'success');
                } catch (err) {
                    console.error('Failed to copy text:', err);
                    showCustomAlert('Gagal Menyalin', 'Maaf, gagal menyalin deskripsi. Silakan salin secara manual.');
                }
                document.body.removeChild(textarea);
            }
        }

        // --- Custom Alert System (Replacing window.alert) ---
        function showCustomAlert(title, message) {
            document.getElementById('alertTitle').textContent = title;
            document.getElementById('alertMessage').textContent = message;
            document.getElementById('customAlert').classList.add('active');
        }

        function closeCustomAlert() {
            document.getElementById('customAlert').classList.remove('active');
        }

        // Close custom alert when clicking outside
        document.getElementById('customAlert').addEventListener('click', function(event) {
            if (event.target === this) {
                closeCustomAlert();
            }
        });

        // --- Notification Toast System ---
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.classList.add('notification-toast');
            notification.textContent = message;
            
            // Optional: Add type-specific styling (e.g., for success, error)
            if (type === 'success') {
                notification.style.background = 'linear-gradient(45deg, #28a745, #218838)';
            } else if (type === 'error') {
                notification.style.background = 'linear-gradient(45deg, #dc3545, #c82333)';
            }

            document.body.appendChild(notification);
            
            // Remove notification after animation
            setTimeout(() => {
                notification.remove();
            }, 3600); // Total animation duration + buffer
        }

        // --- Stats Animation ---
        function animateStats() {
            const statNumbers = document.querySelectorAll('.stat-number');
            statNumbers.forEach(stat => {
                const textContent = stat.textContent;
                const finalValueMatch = textContent.match(/(\d+\.?\d*)([MK%+]?)/);
                
                if (finalValueMatch) {
                    let finalValue = parseFloat(finalValueMatch[1]);
                    const suffix = finalValueMatch[2];
                    
                    if (suffix === 'M') finalValue *= 1000000;
                    else if (suffix === 'K') finalValue *= 1000;

                    let currentValue = 0;
                    const duration = 2000; // milliseconds for animation
                    const frameDuration = 1000 / 60; // 60 frames per second
                    const totalFrames = duration / frameDuration;
                    const increment = finalValue / totalFrames;
                    
                    let frame = 0;
                    const timer = setInterval(() => {
                        currentValue += increment;
                        frame++;
                        if (frame >= totalFrames) {
                            clearInterval(timer);
                            stat.textContent = textContent; // Set to original content to preserve formatting
                        } else {
                            let displayValue = Math.floor(currentValue);
                            if (suffix === 'M' || suffix === 'K') {
                                displayValue = (currentValue / (suffix === 'M' ? 1000000 : 1000)).toFixed(1);
                                if (displayValue.endsWith('.0')) displayValue = parseInt(displayValue);
                            }
                            stat.textContent = displayValue + suffix;
                        }
                    }, frameDuration);
                }
            });
        }

        // Close modal when clicking outside (for cart modal)
        window.addEventListener('click', function(event) {
            const cartModal = document.getElementById('cartModal');
            const productDescriptionModal = document.getElementById('productDescriptionModal');

            if (event.target === cartModal) {
                closeCart();
            }
            if (event.target === productDescriptionModal) {
                closeProductDescriptionModal();
            }
        });

    </script>
</body>
</html>
